"use strict";(function(n,B){if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(S,R){for(var Q=this.length,R=R<0?R+Q<0?0:R+Q:R||0;R<Q&&this[R]!==S;R++){}return Q<=R?-1:R}}if(!Array.isArray){Array.isArray=function(Q){return Object.prototype.toString.call(Q)=="[object Array]"}}var w=B.oos,l=null,j=!l,e=!j,i="",d=n.documentElement,J,c,t,u,s;if(w._a){return}w._a=j;w.initMain=function(Q){delete w.initMain;s=Q};function L(Q){w.fgp=Q}L(1);(function N(){L(2);J=n.getElementsByTagName("head")[0];L(3);var R=n.getElementById("oos_im");L(3.1);c=f(R,"a");t=f(R,"e");u=f(R,"u");L(4);function T(ab,Z){var ac;function W(){var ae=0;for(var ad=0;ad<ac.length;ad++){if(ac.key(ad).startsWith(Z)){ae++}}return ae}try{ac=B[ab];if(ac){ac.length}}catch(Y){return}if(ac){var aa,X={oos:1,clear:function(){for(var ad=ac.length-1;ad>=0;ad--){if(ac.key(ad).startsWith(Z)){ac.removeItem(ac.key(ad))}}if(aa){this.length=0}},getItem:function(ad){return ac.getItem(Z+ad)},key:function(ae){for(var ad=0,af=0;ad<ac.length;ad++){if(ac.key(ad).startsWith(Z)){if(ae==af){return ac.key(ad).substr(Z.length)}af++}}return l},removeItem:function(ad){ac.removeItem(Z+ad);if(aa){this.length=W()}},setItem:function(ad,ae){ac.setItem(Z+ad,ae);if(aa){this.length=W()}}};try{Object.defineProperty(X,"length",{get:W})}catch(Y){aa=j;X.length=W()}try{Object.defineProperty(B,ab,{get:function(){return X}})}catch(Y){}}}L(5);U("localStorage");U("sessionStorage");L(6);if(Object.defineProperty){L(7);T("localStorage","R_"+t+"_");L(8);T("sessionStorage","R_"+t+"_");L(9)}function Q(X,W){return{getString:function(Y){return X.getItem(W+Y)},getObject:function(Y){var Z=X.getItem(W+Y);return Z===l?Z:JSON.parse(Z)},setString:function(Z,Y){X.setItem(W+Z,Y)},setObject:function(Y,Z){X.setItem(W+Y,JSON.stringify(Z))},remove:function(Y){X.removeItem(W+Y)},clear:function(){var Y=this.getKeys();for(var Z=0;Z<Y.length;Z++){this.remove(Y[Z])}},getKeys:function(){var Y=[];for(var Z=0;Z<X.length;Z++){if(X.key(Z).startsWith(W)){Y.push(X.key(Z).substr(W.length))}}return Y}}}function U(Y){try{var W=B[Y];if(W){W.length;w[Y]={res:Q(W,"R_"+t+"_"),app:Q(W,"A_"+c+"_"),sys:Q(W,"S_")}}}catch(X){}}L(10);if(w.localStorage){var V=parseInt(w.localStorage.sys.getString("font"));if(!isNaN(V)&&V<=21&&V>=12){n.getElementsByTagName("html")[0].style.fontSize=""+V+"px"}}L(11);w.loadCss=function S(X){var W=n.createElement("link");W.rel="stylesheet";W.type="text/css";W.href=X;J.appendChild(W)};w.prv={addListener:function(X,W,Y){if(X.addEventListener){X.addEventListener(W,Y,e)}else{if(X.attachEvent){X.attachEvent("on"+W,Y)}}},newElm:function(X,Z,Y,aa){var W=n.createElement(X);if(Z){if(typeof Z=="string"){W.className=Z}else{this.setProps(W,Z)}}if(Y){Y.insertBefore(W,aa||l)}return W},setProps:function(X,Y){for(var W in Y){if(W=="style"){this.setStyles(X,Y[W])}else{if(W.startsWith("data-")){X.setAttribute(W,Y[W])}else{X[W]=Y[W]}}}},setStyles:function(X,W){for(var Y in W){X.style[Y]=W[Y]}}}})();function g(Q,R,S){w.loadJS(Q,R,S)}function f(R,Q){return R.getAttribute("data-"+Q)}L(12);var x={},E,G;w.makeSortable=function(){var Q,S=[];function R(){if(B.Sortable){for(var T=0,U;U=S[T];T++){Sortable.create(U._b,U);if(U.onInit){U.onInit()}}S=[]}}return function(U,T,V){if(n.addEventListener){if(!Q){Q=j;g("//cdnjs.cloudflare.com/ajax/libs/Sortable/1.4.2/Sortable.min.js",R)}V=V||{};V._b=H(U);V.animation=150;V.onUpdate=T;V.ghostClass=V.ghostClass||"oos_ddGhost";S.push(V);R()}}}();L(14);w.apps={};w.page={addFloatButton:function(U,T,R){var S=K("#oos_content");if(S){var Q=r("a","oos_btn_float",q("oss_btn_float_cnt",S,S.firstChild));Q.innerText=U;Q.title=T||"";Q.href=R;return btn}}};function K(Q,R){R=R||n;return R.querySelector?R.querySelector(Q):B.Sizzle(Q,R)[0]}function D(Q,R){R=R||n;return R.querySelectorAll?R.querySelectorAll(Q):B.Sizzle(Q,R)}w.query=D;w.queryOne=K;function v(R,Q,T){var U=0,S=R.length;for(;U<S;U++){Q.call(T||this,R[U],U,R)}}w.Class=function(){function R(T){if(!T){return[]}if(T.toArray){return T.toArray()}var V=T.length||0,U=new Array(V);while(V--){U[V]=T[V]}return U}function S(T,Y){var V,X,W,U=T._c&&T._c.prototype;for(V in Y){X=Y[V];if(U&&typeof X=="function"){W=X.toString().match(/^[\s\(]*function[^(]*\((.*?)\)/)[1].split(",");if(W[0]=="$"){var Z=X;X=(function(aa){return function(){return U[aa].apply(this,arguments)}})(V)._d(Z)}}T.prototype[V]=X}return T}function Q(V,T){for(var U in T){V[U]=T[U]}return V}Q(Function.prototype,{_e:function(){if(arguments.length<2&&l==arguments[0]){return this}var T=this,U=R(arguments),V=U.shift();return function(){return T.apply(V,U.concat(R(arguments)))}},_d:function(T){var U=this;return function(){return T.apply(this,[U._e(this)].concat(R(arguments)))}}});return{create:function(T){var U=function(){this.init.apply(this,arguments)};U._c=T;if(T){var V=function(){};V.prototype=T.prototype;U.prototype=new V}for(var W=1;W<arguments.length;W++){S(U,arguments[W])}if(!U.prototype.init){U.prototype.init=function(){}}U.prototype.constructor=U;return U}}}();function C(Q,R){return w.Class.create(Q,R)}function H(Q){if(Q){if(typeof Q=="string"){Q=n.getElementById(Q)}else{if(Q.nodeType!=1){Q=l}}}return Q}function r(Q,S,R,T){return w.prv.newElm(Q,S,R,T)}function z(R,Q){w.prv.setProps(R,Q)}function p(R,Q){w.prv.setStyles(R,Q)}function q(Q,R){return r("div",Q,R)}function O(S,T,Q){var U=r("input",T);try{U.type=S}catch(R){}if(Q){Q.appendChild(U)}return U}function F(S,T,R){var Q=r("button",T);if(S){Q.setAttribute("type",S)}if(R){R.appendChild(Q)}return Q}function o(R,Q){return R.appendChild(n.createTextNode(Q))}function h(R,Q){A(R);return R.appendChild(n.createTextNode(Q))}function A(R){for(var S=R.childNodes,Q=S.length-1;Q>=0;Q--){R.removeChild(S[Q])}}function M(R,Q){if(R.classList){return R.classList.contains(Q)}return Q&&R.className&&-1<(" "+R.className+" ").indexOf(" "+Q+" ")}function P(S,R){if(!R){return l}var Q=R.charAt(0);if("."==Q||"#"==Q){R=R.substr(1);if(!R){return l}}else{Q=l}while(S){if((Q=="#"&&R==S.id)||(!Q&&E._f(S,R))||(Q=="."&&M(S,R))){break}S=S.parentNode}return S}function y(Q){do{Q=Q.nextSibling}while(Q&&Q.nodeType!=1);return Q}function b(R,Q,S){if(R.removeEventListener){R.removeEventListener(Q,S,e)}}function k(T,R,U){function Q(W,V,X){if(W.addEventListener){W.addEventListener(V,X,e)}else{if(W.attachEvent){W.attachEvent("on"+V,function(){var Z=B.event,Y={type:Z.type,target:Z.srcElement,currentTarget:W,eventPhase:Z.eventPhase||2,bubbles:j,cancelable:j,screenX:Z.screenX,screenY:Z.screenY,clientX:Z.clientX,clientY:Z.clientY,ctrlKey:Z.ctrlKey,shiftKey:Z.shiftKey,altKey:Z.altKey,metaKey:e,button:[0,0,2,0,1][Z.button],pageX:Z.clientX+d.scrollLeft,pageY:Z.clientY+d.scrollTop,preventDefault:function(){Z.returnValue=e},stopPropagation:function(){Z.cancelBubble=j}};if("mouseout"==Z.type){Y.relatedTarget=Z.toElement}if("mouseover"==Z.type){Y.relatedTarget=Z.fromElement}if(Z.type=="keyup"||Z.type=="keydown"||Z.type=="keypress"){Y.keyCode=Z.which||Z.keyCode}X(Y)})}}}if(T.addEventListener||T.attachEvent){Q(T,R,U)}else{for(var S=0;S<T.length;S++){Q(T[S],R,U)}}}x._g=w.getControl=function(R){R=H(R);if(R){var Q=R.$oos;if(!Q&&R.className&&-1!=R.className.indexOf("oos_")){if(M(R,"oos_m0")||M(R,"oos_menu")){Q=new x._h(R)}if(M(R,"oos_m1")){Q=new x._i(R)}if(M(R,"oos_a")){Q=new x._j(R)}if(M(R,"oos_t0")){Q=new w.Tree(R)}if(M(R,"oos_l0")){Q=new w.List(R)}if(M(R,"oos_l_l")){Q=new w.ListView(R)}if(M(R,"oos_contlet")){Q=new x._k(R)}if(M(R,"oos_commentForm")){Q=new x._l(R)}if(M(R,"oos_details")){Q=new x._m(R)}}return Q}};w.Sys=function(){var Q=0;return{id:function(R){Q++;return(R||"oos_")+Q}}}();E=w.dom=function(){function S(T){w.onReady(T)}function Q(U,T){if(T&&!M(U,T)){U.className=U.className+" "+T}}function R(U,T){if(M(U,T)){U.className=U.className.replace(new RegExp("(?:^|\\s+)"+T+"(?:\\s+|$)","g")," ")}}return{onReady:S,getElm:H,getParent:P,newElm:r,addText:o,setText:h,removeChildren:A,addListener:k,remove:function(T){if(T.parentNode){T.parentNode.removeChild(T)}},_n:function(T){if(T.preventDefault){T.preventDefault()}else{T.returnValue=e}},getIDs:function(U){var T=[],V=0,W;for(;W=U[V];V++){if(W.id){T.push(W.id)}}return T},hide:function(T){T.style.display="none"},show:function(T){T.style.display=i},_f:function(T,U){var V=T.tagName;return V&&V.length==U.length&&V==U.toUpperCase()},hasClass:M,addClass:Q,removeClass:R,_o:Q,_p:R,_q:function(V,U,T){(T?Q:R)(V,U)},isDescendant:function(T,U){while((U=U.parentNode)&&U!=T){}return !!U},_r:function(U,T){var V=U[T];return !V&&U.getAttribute?U.getAttribute(T):V},_s:function(U,T){return U.getAttribute("data-oml-"+T)},_t:function(T){return T.firstChild},_u:function(){if(B.getSelection){B.getSelection().removeAllRanges()}else{if(n.selection){n.selection.empty()}}},scrollIntoViewIfNeeded:function(U){if(U.scrollIntoViewIfNeeded){U.scrollIntoViewIfNeeded()}else{var T=U.getBoundingClientRect();if(T.y<0){U.scrollIntoView(j)}else{if(T.bottom>d.clientHeight){U.scrollIntoView(e)}}}},expandCollapse:function(U,V,W,Y){var T=U.style,Z=V?0:"none",X=Z;T.overflow="hidden";if("transition" in T){Y|=500;T.transition="max-height "+Y+"ms cubic-bezier(.55,0,.1,1)";if(V){T.maxHeight=U.scrollHeight+"px"}else{T.maxHeight=0;X=U.scrollHeight+"px"}setTimeout(function(){T.maxHeight=X},20);if(U._v){clearTimeout(U._v)}U._v=setTimeout(function(){U._v=l;T.maxHeight=Z;T.overflow="";if(W){W()}},Y)}else{T.maxHeight=Z;if(W){W()}}}}}();x._w=C(l,{init:function(){this._x=[]},fire:function(){var Q=arguments;v(this._x,function(R){R.apply(l,Q)})},add:function(Q){if(this._x.indexOf(Q)<0){this._x.push(Q)}},remove:function(Q){var R=this._x.indexOf(Q);if(0<=R){this._x.splice(R,1)}}});x._y=C(l,{init:function(){this._z=[]},fire:function(R){var Q=this._z[R];if(Q){Q.fire.apply(Q,Array.prototype.slice.call(arguments,1))}},on:function(R,Q){var S=this._z[R];if(!S){this._z[R]=S=new x._w()}S.add(Q)},un:function(R,Q){var S=this._z[R];if(!S){S.remove(Q)}}});x._A=w.AjaxRequest=function(af,ad){var W,U,ab=30000,ac,V,S=af,ae=ad,aa=G.ajax,T="POST",ag;function Z(){if(W){throw aa.processingError}try{W=new XMLHttpRequest()}catch(ai){}if(!W){throw aa.requestFailure}W.onreadystatechange=function(){if(4==W.readyState){ah()}}}function Q(ai,aj,al,ak){al=al||i;ag=ak||{};Z();W.open(ai,aj,j);if(ab){ac=setTimeout(function(){Y(j)},ab)}if(ai==T){if(U){W.setRequestHeader("Content-Type","application/json; charset=utf-8")}}if(ag.blockUI){w.blockUI(ag.blockUI)}W.send(al)}function Y(ai){if(R()){V=ai?2:1;W.abort();return j}return e}function R(){var ai=W.readyState;return W&&4!=ai&&0!==ai}function ah(){if(ac){clearTimeout(ac)}var ap={},am,al,an;try{am=W.status;al=W.statusText;ap.text=W.responseText;if(200==am){if(U){if(ap.text){try{an=ap.json=JSON.parse(ap.text);if(an.d&&an.d.__type){ap.json=an=an.d}var aj=an.__errorMessage;if(!aj&&an.jsonrpc&&an.error){aj=an.error.message}if(aj){am=500;al=aj}}catch(ao){am=500;al="Invalid json format"}}}else{ap.xml=W.responseXML;if(!ap.xml){am=500;al=aa.invalidXml}}}}catch(ao){}if(!am){am=500;if(V==2){al=aa.timeout}else{if(V==1){al=aa.aborted}else{al=aa.unknownError}}}ap.status=am;ap.statusText=al;W.onreadystatechange=l;W=l;V=0;if(200==am){if(S){S(ap)}if(an&&an.__redirect){var ai=B.location.href,ak=an.__redirect;B.location.href=w.getPageUrl(ak);if(B.location.href!=ai){B.location.reload()}}}else{if(ae){ae(ap)}}if(ag.blockUI){w.unblockUI(ag.blockUI)}}function X(aj){var ai=[];for(var ak in aj){ai.push(encodeURIComponent(ak)+"="+encodeURIComponent(aj[ak]))}return ai.join("&").replace(/%20/g,"+")}this.getJsonAsync=function(ai,ak,aj){U=j;if(ak){ai+="?"+X(ak)}Q("GET",ai,l,aj)};this.postJsonAsync=function(ai,ak,aj){U=j;ak=JSON.stringify(ak);Q(T,ai,ak,aj)};this.getXmlAsync=function(ai,ak,aj){U=e;if(ak){ai+="?"+X(ak)}Q("GET",ai,l,aj)};this.postXmlAsync=function(ai,ak,aj){U=e;Q(T,ai,ak,aj)};this.isLoading=function(){return R()};this.abort=function(){return Y(e)}};x._B=w.ajax=function(){return{getJson:function(S,U,R,Q,T){new x._A(R,Q).getJsonAsync(S,U,T)},postJson:function(S,U,R,Q,T){new x._A(R,Q).postJsonAsync(S,U,T)},getXml:function(S,U,R,Q,T){new x._A(R,Q).getXmlAsync(S,U,T)},postXml:function(S,U,R,Q,T){new x._A(R,Q).postXmlAsync(S,U,T)}}}();w.Element=x._C=C(x._y,function(){var S=0,R=[];function Q(T){if(T=="float"){return"cssFloat"}return T.replace(/-./g,function(U){return U.substr(1).toUpperCase()})}return{init:function($,T){$();this.$=T=H(T);if(!T){return l}T.$oos=this;if(!T.id){T.id="oosid"+(++S)}R[T.id]=this},getId:function(){return this.$.id},hide:function(){this.setStyle("display","none")},show:function(){this.setStyle("display",i)},getStyle:function(T){return this.$.style[Q(T)]},setStyle:function(T,U){this.$.style[Q(T)]=U},remove:function(){E.remove(this.$)}}}());w.EventManager=C(l,{init:function(){}});new function(){w.EventManager.on=function(U,V){k(U,V,T)};var R,S,Q=0;w.blockUI=function(U){if(!R){U=U||{};U.message=U.message||G.sys.pleaseWait;R=q("oos_waitLayer",n.body);S=r("div",{className:"oos_waitBox"},n.body);if(typeof U.message=="string"){o(S,U.message)}else{n.body.appendChild(U.message)}}E.show(R);E.show(S);Q++};w.unblockUI=function(U){U=U||{};U.fadeOut=200;Q--;if(1>Q){B.setTimeout(function(){E.hide(R);E.hide(S)},U.fadeOut)}};var T=function(W){var ad=W.target,ab=W.type,ac,U,Z;if(ab=="keydown"&&W.keyCode==112){var X=w.queryOne("link[rel=help]");if(X&&X.href){n.onhelp=B.onhelp=function(){return e};open(X.href,"oos_help");E._n(W);return}}while(ad){if(ab=="mouseover"){ac=ad.$oos;if(!ac){if(M(ad,"oos_l0")||M(ad,"oos_t0")||M(ad,"oos_a")||M(ad,"oos_m0")||M(ad,"oos_contlet")||M(ad,"oos_m1")){ac=ad.$oos=x._g(ad)}}if("LABEL"==ad.tagName&&!ad.title&&M(ad,"oos_f8")){ad.title=G.form.requiredTitle}}if(ab=="click"||ab=="dblclick"){var V=ad.className;if(V=="oos_cmo"){E._n(W);ab="contextmenu";ad=ad.parentNode}else{if(M(ad,"oos_listItem")){if(!W.button){var Y=K("a",ad);if(Y&&Y.href&&"A"!=W.target.tagName&&"INPUT"!=W.target.tagName&&!P(W.target,"button")&&!P(W.target,"a")){open(Y.href,(W.ctrlKey||W.shiftKey)?"\u005fblank":(Y.target||"\u005fself"));E._n(W);return}}}}}if(ab=="contextmenu"||(ab=="click"&&!W.button)){U=E._r(ad,ab=="click"?"menu":"contextMenu");if(U){Z=H(U);if(Z){if(!Z._D){Z._D=x._g(Z)}Z._D.targetElement=ad;var aa={relatedTarget:ad};Z._D.fire("oos_show",aa);if(ab=="click"){Z._D.showForElement(ad)}else{Z._D.showForEvent(W)}E._n(W);break}}if(ab=="contextmenu"&&M(ad,"oos_noContextMenu")){E._n(W);break}}if(ad.$oos){ad.$oos.fire(ab,W)}ad=ad.parentNode}};w.onReady(function(){k(n,"click",T);k(n,"dblclick",T);k(n,"contextmenu",T);k(n,"keydown",T);k(n,"keyup",T);k(n,"mousedown",T);k(n,"mouseup",T);k(n,"mouseover",T);k(n,"mouseout",T)});x._E=function(X){if(X._F){return}X._F=j;var V=n.attachEvent;if(V){k(X,"keydown",function(aa){if(27==aa.keyCode){E._n(aa)}})}if(E._s(X,"autogrow")){if(X.addEventListener){k(X,"input",U)}else{k(X,"paste",U)}if(V){k(X,"keyup",U);k(X,"cut",U)}W(X);X.autosize=function(){W(X)}}var Y;var Z;function U(aa){var ac=aa.target,ab;if(aa.type=="input"){if(Y&&(new Date()-Y)<20){ab=j}}else{if(aa.type=="cut"||aa.type=="paste"){ab=j}}if(ab){if(Z){clearTimeout(Z)}Z=setTimeout(function(){W(ac)},30)}else{W(ac)}Y=new Date()}function W(ad){var aa=ad.style,ab=ad._G,ac;if(!ab){ab=ad._G=r("textarea",l,n.body);ac=ab.style;ac.position="absolute";ac.top=ac.left="-30000px";aa.overflow="hidden";aa.resize="none";ac.height=aa.minHeight?aa.minHeight:"1.2em";ab._H=ab.offsetHeight-5;if(aa.maxHeight){ac.height=aa.maxHeight;ab._I=Math.max(ab.offsetHeight-5,ab._H)}ac.height="1em"}else{if(ab.value==ad.value){return}}ac=ab.style;ac.overflow="hidden";if(ad.clientWidth!=ab.clientWidth){var af=ad.clientWidth;ac.width=af+"px";af+=ad.clientWidth-ab.clientWidth;ac.width=Math.max(af,0)+"px"}ab.value=ad.value;var ae=(ab.scrollHeight+ab.offsetHeight-ab.clientHeight-6);if(ae>ab._I){aa.overflow="auto";ae=ab._I}else{if(ae<ab._H){ae=ab._H}aa.overflow="hidden"}aa.height=ae+"px"}}};x._J=(function(){var S=/(hidden|button|reset|submit)/,V={number:/^-?\d+(\.\d+)?(e-?\d+)?$/,time:/^\d{2}:\d{2}(:\d{2}(\.\d+)?)?$/,week:/^\d{4,}-W\d{2}$/,month:/^\d{4,}-\d{2}$/,date:/^\d{4,}-\d{2}-\d{2}$/,"datetime-local":/^\d{4,}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(\.\d+)?)?$/,datetime:/^\d{4,}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(\.\d+)?)?Z$/,email:/^\S+@\S+$/i,url:/^(\w+):(\/\/)?.+$/i},Q=E._r,Z=l;function U(ad){ad._K=j;if(!ad.checkValidity){var ab=ad.tagName.toLowerCase(),ae,ac;if(ab=="input"){ab=ad.getAttribute("type")||ad.type;ae=!S.test(ab)}else{ae=ab=="select"||ab=="textarea"}if(ae){ad.required=!!Q(ad,"required");ad.min=Q(ad,"min");ad.max=Q(ad,"max");ad.step=Q(ad,"step");ad.pattern=Q(ad,"pattern")||i;if(ac=Q(ad,"maxlength")){ad.maxLength=parseInt(ac,10)}if(ad.autofocus=!!ad.getAttribute("autofocus")&&ad.offsetWidth){ad.focus()}ad.validity=Y();ad.checkValidity=X;ad.setCustomValidity=R}else{ab=i}ad._L=ab}}function T(){var ab=j;v(this,function(ac){if(!ac._K){U(ac)}ac.willValidate=ac._L&&ac.name&&!ac.disabled&&!ac.readOnly;ac.validationMessage=i;if(ac.willValidate&&ac.checkValidity&&!ac.checkValidity()){ab=e}});return ab}function Y(){return{typeMismatch:e,rangeUnderflow:e,rangeOverflow:e,stepMismatch:e,tooLong:e,patternMismatch:e,valueMissing:e,customError:e,valid:j}}function X(){var ah=this,ae=ah._L,ag=ah.value,ad=Y(),ab=ah.min,af=ah.max,ac;ah.validity=ad;if(ag){if(V[ae]&&!V[ae].test(ag)){ad.typeMismatch=j}else{if(/email|password|text|textarea|url/.test(ae)){ad.tooLong=ah.maxLength>-1&&ag.length>ah.maxLength}if(ae=="number"){ad.rangeUnderflow=(ab&&parseFloat(ag)<parseFloat(ab));ad.rangeOverflow=(af&&parseFloat(ag)>parseFloat(af))}if(ah.pattern){ac=new RegExp("^(?:"+ah.pattern+")$");ac.global=ac.ignoreCase=ac.multiline=e;ad.patternMismatch=!ac.test(ag)}}}else{ad.valueMissing=!!ah.required}ad.customError=!!ah.__customValidationMessage;ah.validationMessage=aa(ah);ad.valid=!ah.validationMessage;if(!ad.valid){if(ah.oninvalid){ah.oninvalid()}}return ad.valid}function R(ab){this.__customValidationMessage=ab;this.validity.customError=!!ab}function W(af){var ag=af.target,ab=ag.checkValidity(),ae=0,ad,ac;if(!ab){E._n(af);for(;ad=ag[ae];ae++){ac=aa(ad);if(ac&&ad.offsetWidth){x._M._N(ac,ad);ad.focus();break}}}return ab}function aa(ad){var ac=ad.validity,ab=G.form;if(ac){if(ac.valueMissing){return ab.valueMissing}if(ac.typeMismatch){return ab.invalidFormat}if(ac.patternMismatch){return ab.patternMismatch.replace("{0}",ad.title||i)}if(ac.tooLong){return ab.tooLong.replace("{0}",ad.maxLength)}if(ac.rangeUnderflow){return ab.rangeUnderflow.replace("{0}",ad.min)}if(ac.rangeOverflow){return ab.rangeOverflow.replace("{0}",ad.max)}if(ac.stepMismatch){return ab.stepMismatch}if(ac.customError){return ad.__customValidationMessage}}return i}return{_O:function(ab){if(!ab._P){ab._P=j;if(Z===l){Z=!!ab.checkValidity;if(Z&&/WebKit/i.test(navigator.userAgent)){var ac=r("form",{style:{display:"none"}},n.body);ac.innerHTML="<input name='t' required><button></button>";ac.onsubmit=function(){return Z=e};K("button",ac).click();E.remove(ac)}}if(!Z){k(ab,"submit",W);if(!ab.checkValidity){ab.checkValidity=T;v(ab,function(ad){U(ad)})}}}v(D("textarea",ab),function(ad){x._E(ad)})}}})();w.Validation=x._Q=function(){var T={number:/^-?\d+(\.\d+)?(e-?\d+)?$/,time:/^\d{2}:\d{2}(:\d{2}(\.\d+)?)?$/,week:/^\d{4,}-W\d{2}$/,month:/^\d{4,}-\d{2}$/,date:/^\d{4,}-\d{2}-\d{2}$/,"datetime-local":/^\d{4,}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(\.\d+)?)?$/,datetime:/^\d{4,}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(\.\d+)?)?Z$/,email:/^\S+@\S+$/i,url:/^(\w+):(\/\/)?.+$/i};function S(X,V,W){if(V){V="-"+V}return X.getAttribute("data-val"+V)||W}function R(X){var Y=X.value;if(Y&&X.tagName=="INPUT"){var V=T[X.type];if(V&&!V.test(Y)){return"Invalid format"}}if(X.validationMessage){return X.validationMessage}if(S(X,"")=="true"){if(!Y){return S(X,"required")}var W=S(X,"length-max");if(W&&Number.parseInt(W)<Y.length){return S(X,"length","Invalid value length.")}W=S(X,"length-min");if(W&&Number.parseInt(W)>Y.length){return S(X,"length","Invalid value length.")}W=S(X,"maxlength-max");if(W&&Number.parseInt(W)<Y.length){return S(X,"maxlength","Must be no more than {0} characters.")}W=S(X,"minlength-min");if(W&&Number.parseInt(W)>Y.length){return S(X,"minlength","Must be at least {0} characters.")}W=S(X,"regex-pattern");if(W&&!new RegExp(W).test(Y)){return S(X,"regex","Invalid value format.")}W=S(X,"number");if(W&&!/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(Y)){return W}W=S(X,"range-max");if(W&&Number.parseFloat(W)<Number.parseFloat(Y)){return S(X,"range","The value is too big.")}W=S(X,"range-min");if(W&&Number.parseFloat(W)>Number.parseFloat(Y)){return S(X,"range","The value is too small.")}W=S(X,"digits");if(W&&!/^\d+$/.test(Y)){return W}W=S(X,"date");if(W&&!/Invalid|NaN/.test(new Date(Y).toString())){return W}W=S(X,"email");if(W&&!T.email.test(Y)){return W}W=S(X,"url");if(W&&!T.url.test(Y)){return W}}}function Q(W){var V=R(W);U(W,V);return V}function U(X,W){var Y=E.getParent(X,".oos_formZone"),V;if(Y){V=w.queryOne(".oos_formZoneFooter",Y)}else{Y=E.getParent(X,".oos_f4");V=w.queryOne(".oos_f5",Y)}if(Y){if(W){w.dom.addClass(Y,"oos_error")}else{w.dom.removeClass(Y,"oos_error")}if(V){if(null==Y._R){Y._R=V.innerText||i}V.innerText=W||Y._R}}else{if(W){x._M._N(W,X)}}}w.prv.addListener(B,"input",function(V){Q(V.target)});w.prv.addListener(B,"change",function(V){Q(V.target)});return{validateForm:function(Z){var W=Z.elements,X;for(var Y=0,V;V=W[Y];Y++){if(Q(V)){if(!X){X=j;V.focus()}}}return X},showElementError:function(W,V){U(W,V)}}}();x._S=w.AjaxForm=C(x._C,{init:function($,R,S,Q){$(R||r("form"));R=this.$;var T=this;this._T=S||R.action;this.autotrim=Q;x._J._O(R);k(R,"submit",function(V){try{T.submit()}catch(U){alert(""+U)}E._n(V);return e})},getValues:function(){var Q=this.$.elements,S,T,U={};for(var R=0;S=Q[R];R++){T=S.name||S.id;if(T&&!S.disabled&&!(/button|reset|submit/.test(S.type))&&!T.startsWith("__")&&S.value!=l){if(!(/checkbox|radio/.test(S.type))||S.checked){if(!(T in U)){U[T]=S.value}}}}return U},setValues:function(T){var Q=this.$.elements;for(var S in T){var R=Q.namedItem(S);if(R){if(!R.tagName&&R[0].type!="radio"){R=R[0]}if(/checkbox|radio/.test(R.type)){R.checked=R.value==(""+T[S])}else{R.value=T[S];if(R.autosize&&R.tagName=="TEXTAREA"){R.autosize()}}}}this.fire("setvalues",{values:T})},load:function(S,Q,T,R){var U=this;x._B.postJson(S,Q,function(V){if(T){T(V)}U.setValues(V.json)},function(V){if(R){R(V)}x._U.errorAjax(V,i)},{blockUI:{}})},submit:function(S){var T=this,U=this.$;v(U,function(V){if(V._V){V.value=V._V.getData()}if(T.autotrim&&V.value){V.value=V.value.trim()}});if(x._Q.validateForm(U)){return e}if(U.checkValidity()){var R=this.getValues(j),Q={formData:R};this.fire("beforesubmit",Q);if(Q.cancelEvent){return e}x._B.postJson(this._T,R,function(V){Q.result=V;T.fire("success",Q);if(S){S()}},function(W){var X=W.json,Y=0,Z,V;if(X&&X.__formErrorMessages){for(;Z=X.__formErrorMessages[Y];Y++){V=K("[name="+X.__formErrorInputs[Y]+"]",U);if(V){if(V._V){V=K("iframe",V._V.container.$)}x._Q.showElementError(V,Z);return}}}Q.result=W;T.fire("failure",Q);if(!Q.cancelEvent){x._U.errorAjax(W,i)}},{blockUI:{}})}}});x._W=C(x._C,{isEnabled:function(){return !M(this.$,"oos_2")},setEnabled:function(Q){E._q(this.$,"oos_2",!Q)},getText:function(){return this.$.firstChild.innerText},setText:function(Q){this.$.firstChild.innerText=Q},setHRef:function(Q){this.$.href=Q},fire:function($,R,Q){if(R=="click"&&!Q.button){if(M(this.$,"oos_back")){history.back();return}}$(R,Q)}});x._j=C(x._W,{init:function($,Q){if(!Q){Q=r("a","oos_a")}$(Q)},fire:function($,R,Q){if(R=="mousedown"&&!Q.button){var S=H("oos_popup_"+this.$.id);if(S){x._M._X(S,this.$)}}$(R,Q)}});x._Y=C(x._C,{init:function($,Q){if(!Q){Q=q("oos_toolbar")}$(Q)},addCommand:function(Q,R){var S=new x._j();S.setText(Q);if(typeof R=="string"){S.setHRef(R)}else{if(typeof R=="function"){S.on("click",R)}}this.$.appendChild(S.$);return S}});w.ListItem=C(x._C,{init:function($,Q){$(Q);E._o(this.$,"oos_l1")},getList:function(){return this.$.parentNode.$oos},select:function(){this._Z(j,j)},unselect:function(){this._Z(e,j)},_Z:function(R,Q){E._q(this.$,"oos_l2",R);if(Q){this.getList()._0()}},isSelected:function(){return M(this.$,"oos_l2")},remove:function(){var Q=this.$,R=Q.parentNode;if(R){R.removeChild(Q)}},setContextMenu:function(Q){var R=this.$.children[0];if(!R||R.className!="oos_cmo"){E.newElm("div","oos_cmo",this.$,R)}this.$.setAttribute("contextMenu",Q)}});w.ListView=C(x._C,{_1:function(Q,R){var S=w.queryOne("a",R);if(S&&S.href){open(S.href,(Q.ctrlKey||Q.shiftKey)?"\u005fblank":(S.target||"\u005fself"));return j}else{S=w.queryOne("input",R);if(S&&!S.disabled){if(S.type=="radio"){S.checked=j}else{if(S.type=="checkbox"){S.checked=!S.checked}}return j}}},_2:function(S){var Q=w.queryOne(".oos_l_expPanel",S);if(Q){var R=Q.style,U=Q.scrollHeight,T="max-height .5s cubic-bezier(.55,0,.1,1)";if(M(S,"oos_li_collapsed")){if(!U){R.maxHeight="none"}else{R.transition=T;R.maxHeight=U+"px";setTimeout(function(){if(M(S,"oos_li_expanded")){R.transition=l;R.maxHeight="none"}},500)}S.className=S.className.replace("oos_li_collapsed","oos_li_expanded")}else{if(!U){R.maxHeight="0"}else{R.transition=l;R.maxHeight=U+"px";setTimeout(function(){R.transition=T;R.maxHeight="0"},10)}S.className=S.className.replace("oos_li_expanded","oos_li_collapsed")}}},fire:function($,U,R){var V=R.target,S=V;if(U=="click"||U=="dblclick"||U=="mousedown"||U=="mouseup"){while(S&&S!=this.$){if(S.className){if(M(S,"oos_l_main")){R.zone="main"}else{if(M(S,"oos_l_sb1")){R.zone="sb1"}else{if(M(S,"oos_l_sb2")){R.zone="sb2"}}}if(R.zone){R.item=E.getParent(S,"li");break}}S=S.parentNode}}$(U,R);if(R.item&&U=="click"){if(V.tagName=="INPUT"||(V.tagName=="A"&&V.href)){return}if(!this._1(R,S)){var T=0,W,Q=[".oos_l_main",".oos_l_sb1",".oos_l_sb2"];for(;Q[T];T++){W=w.queryOne(Q[T],S.parentNode);if(S!=W){if(this._1(R,W)){return}}}this._2(R.item)}}}});w.List=C(x._C,{init:function($,S){if(!S){S=r("ul","oos_l0")}$(S);S=this.$;var R,Q=S.childNodes;for(R=Q.length-1;R>=0;R--){if(Q[R].nodeType==1){if(M(Q[R],"oos_l1")){new w.ListItem(Q[R])}}else{S.removeChild(Q[R])}}},fire:function($,X,S){if(X=="click"||X=="dblclick"){var U=this.$,T=S.target,Q=T,W,V,Y;while(Q&&Q!=U){W=Q.parentNode;if(W==U){S.item=V=Q.$oos;break}Q=W}if(V&&X=="click"){var R=j;if(S.ctrlKey){R=!V.isSelected()}else{this.clearSelection(j)}if(!M(U,"oos_l4")){V._Z(R)}this._0();if(!S.button&&!M(U,"oos_l3")&&"A"!=T.tagName&&"INPUT"!=T.tagName){Y=K("a",Q);if(Y&&Y.href){open(Y.href,(S.ctrlKey||S.shiftKey)?"\u005fblank":(Y.target||"\u005fself"))}}}}$(X,S)},getItemCount:function(){return this.$.childNodes.length},addItem:function(R,S){var Q=r("li",l,this.$),T=new w.ListItem(Q);if(S&&S.contextMenu){Q.contextMenu=S.contextMenu}if(typeof R=="string"){o(Q,R)}else{Q.appendChild(R)}return T},deleteItem:function(R){var Q=R.$;if(!Q){Q=this.$.childNodes[R]}this.$.removeChild(Q)},deleteAllItems:function(){A(this.$)},getSelectedItem:function(){return this.getSelectedItems()[0]},getSelectedItems:function(){var Q=[];v(this.$.childNodes,function(R){if(R.$oos&&R.$oos.isSelected()){Q.push(R.$oos)}});return Q},clearSelection:function(R){var S=this.$.childNodes,T=0,Q;for(;Q=S[T];T++){if(Q.$oos){Q.$oos._Z(e)}}if(R){this._0()}},_0:function(){this.fire("selectionchange",{items:this.getSelectedItems()})}});(function(){var Q="oos_t3",R="oos_t5",V="oos_t6",W="oos_t7",U="oos_t8",X="oos_t9";function T(Y,Z){var aa=Y.ctNode,ab=E._t(Y.$);if(aa){if(0===Z){E._p(ab,X);E._p(ab,U)}if(!M(ab,"oos_tf")){if(1==Z){E._p(ab,X);E._o(ab,U);E._p(aa,"oos_hidden")}if(2==Z){E._p(ab,U);E._o(ab,X);E._o(aa,"oos_hidden")}}}}function S(Z,Y){var ab=Y.getTree(),aa={};if(ab){aa.node=Y;ab.fire(Z,aa)}}w.TreeNode=C(x._C,{init:function($,ab,ac){var Z,ad,aa,Y;if(!ab){ac=ac||{};ab=r("li",Q);ab.id=ac.id;Z=q(V,ab);Z=q(R,Z);Z=q("oos_td",Z);if(this.initDefault){this.initDefault(Z,ac)}r("ul","oos_t1",ab)}$(ab);ab=this.$;if(!ab.id){ab.id=w.Sys.id()}Y=ab.childNodes;for(ad=0;aa=Y[ad];ad++){if(aa.tagName=="UL"){this.ctNode=aa;for(ad=0,Y=aa.childNodes;aa=Y[ad];ad++){this.createNode(aa)}break}}},createNode:function(Z){var Y;if(M(E._t(E._t(E._t(Z))),"oosBasicTreeNodeTitle")){Y=new w.BasicTreeNode(Z)}else{Y=new w.TreeNode(Z)}return Y},getParentNode:function(){var Y=P(this.$.parentNode,"."+Q);return Y?Y.$oos:l},getTree:function(){var Y=P(this.$,".oos_t0");return Y?Y.$oos:l},getNodeCount:function(){return this.ctNode?this.ctNode.childNodes.length:0},addNode:function(Y,ab){var Z=this.ctNode,aa=this.getNodeCount();if(!Z){this.ctNode=Z=r("ul","oos_t1",this.$)}Z.insertBefore(Y.$,ab?ab.$:l);if(!aa){T(this,this.isExpanded()?1:2)}},remove:function(){var Y=this.$,ab=Y,aa=this.getParentNode(),Z=Y.parentNode;Z.removeChild(Y);if(aa&&E._t(Z)==l){T(aa,0)}},isExpanded:function(){var Y=this.ctNode;return Y&&!M(Y,"oos_hidden")},expand:function(){T(this,1);S("expand",this)},collapse:function(){T(this,2);S("collapse",this)},toggle:function(){if(this.isExpanded()){this.collapse()}else{this.expand()}},select:function(){var Y=this.getTree();if(Y){Y._3(this,j)}},unselect:function(){var Y=this.getTree();if(Y){Y._3(this,e)}},_Z:function(Y){E._q(E._t(this.$),"oosTreeNodeTitle-Selected",Y)},_4:function(){}});w.Tree=C(w.TreeNode,{init:function($,Y){if(!Y){Y=q("oos_t0");r("ul","oos_t2",Y)}$(Y);this._5=[]},addNode:function(Y,Z){this.$.childNodes[0].insertBefore(Y.$,Z?Z.$:l)},getSelectedNode:function(){return this._5[0]},clearSelection:function(Y){v(this._5,function(Z){Z._Z(e)});this._5=[];if(!Y){this.fire("selectionchange",{nodes:[]})}},_3:function(aa,Y){var ab=this._5.indexOf(aa),Z,ac;if(Y){if(-1==ab){if(!this._6){this.clearSelection(j)}this._5.push(aa);Z=j}}else{if(-1<ab){this._5.splice(ab,1);Z=j}}if(Z){aa._Z(Y);ac={};ac.nodes=this._5;ac.node=this._5[0];this.fire("selectionchange",ac)}},fire:function($,ab,Z){if(ab=="mousedown"||ab=="click"||ab=="dblclick"){var ac=Z.target,aa=ac,Y,ad;while(aa&&aa!=this.$){if(M(aa,V)){Y=Z.node=aa.parentNode.$oos;break}aa=aa.parentNode}if(Y&&!Z.button){if(Z.target.className==R){if(ab=="mousedown"){Y.toggle()}}else{if(ab=="dblclick"){Y.toggle()}else{if(ab=="click"){if(!M(aa,"oos_tc")){Y.select()}if("A"!=ac.tagName&&"INPUT"!=ac.tagName&&!M(aa,"oos_tb")){ad=K("a",aa);if(ad&&ad.href){open(ad.href,(Z.ctrlKey||Z.shiftKey)?"\u005fblank":(ad.target||"\u005fself"))}}}}}}}$(ab,Z)}});w.BasicTreeNode=C(w.TreeNode,{init:function($,aa,ab){ab=ab||{};$(aa,ab);var Z,Y;aa=this.$;Z=E._t(aa);Y=E._t(E._t(Z)).childNodes;this._7=Y[0];this._8=Y[1];if(ab.contextMenu){Z.contextMenu=ab.contextMenu}},initDefault:function(Z,Y){Z.className+=" oosBasicTreeNodeTitle oos_td";r("img",{src:Y.icon},Z);o(r("span",l,Z),Y.text)},getText:function(){var Z=this._8,Y=Z.textContent;if(l!=Y){return Y}return Z.innerText},setText:function(Y){var Z=this._8;A(Z);o(Z,Y)},getIcon:function(){return this._7.className},setIcon:function(Y){this._7.className=Y}})})();x._9=w.FormView=C(x._C,{init:function($,Q,R){R=R||{};if(!Q){Q=r("div",R.frameless?i:"oos_f0")}$(Q)},addRow:function(W,U,V){U=U||{};var S=q("oos_f1"+(U.vertical?" oos_f2":i),this.$);var R=r("label","oos_f3",S),T,Q=U.description;if(W){o(R,W)}T=q("oos_f4",S);if(Q&&U.descriptionAtTop){o(q("oos_f5",T),Q)}if(V){if(Array.isArray(V)){v(V,function(X){T.appendChild(X)})}else{if(typeof V=="string"){T.innerHTML=V}else{T.appendChild(V)}}}if(U.required||K("[required]",T)){E._o(R,"oos_f8")}if(Q&&!U.descriptionAtTop){o(q("oos_f5",T),Q)}return T},getRowElm:function(Q){return P(Q,".oos_f1")}});x._M=function(){var V=[],S=[],Q,W;function Y(aa,ab,ac){U(aa,ab.getBoundingClientRect(),ac)}function U(aa,af,ad){ad=ad||{};var ac=af.left,ae=af.bottom+(ad.belowOffset||0),ab=aa.offsetWidth,ag=aa.offsetHeight;if(ae+ag>d.clientHeight){ae=Math.max(0,af.top-ag-(ad.aboveOffset||0))}if(ac+ab>d.clientWidth){ac=Math.max(0,af.right-ab)}aa.style.left=ac+"px";aa.style.top=ae+"px"}function X(){if(W){var aa=V.pop();if(aa){E.hide(aa._aa)}if(!V.length){E.hide(W)}}}function T(aa){if("resize"==aa.type||"scroll"==aa.type){R();for(var ab=0;ab<S.length;ab++){S[ab]._ab()}Z()}else{if("keydown"==aa.type&&27==aa.keyCode){R();X();for(var ab=0;ab<S.length;ab++){S[ab].hide()}}else{if(aa.type=="mousedown"){if(V.length){var ac=P(aa.target,".oos_popupPanel");if(!ac){Z()}}if(Q&&!P(aa.target,".oos_fa")){R()}}}}}function Z(){while(V.length){X()}}function R(){if(Q){E.remove(Q)}Q=l}k(B,"resize",T);k(B,"scroll",T);k(n,"keydown",T);k(n,"mousedown",T);return{_N:function(aa,ab){R();Q=q({className:"oos_fa"},n.body);o(q({className:"oos_fb"},Q),aa);Y(Q,ab,{aboveOffset:4,belowOffset:4});if(ab.focus&&ab.offsetWidth){ab.focus()}},_ac:Z,_ad:function(ad,aa,ab){if(!W){W=q({id:"oos_popupLayer"},n.body)}E.show(W);V.push(ad);var ac=ad._aa;if(!ac){ac=q("oos_popupPanel",W);ac.appendChild(ad);ad._aa=ac;E._p(ad,"oos_popup")}E.show(ac);U(ac,{left:aa,top:ab,right:aa,bottom:ab});return ac},_X:function(ac,ab){var aa=this._ad(ac,0,0);aa._ae=ab;Y(aa,ab,{aboveOffset:4})},_af:function(aa){if(S.indexOf(aa)<0){S.push(aa)}},_ag:function(aa){var ab=S.indexOf(aa);if(ab>=0){S.splice(ab,1)}}}}();x._i=C(x._W,{getMenu:function(){return x._g(P(this.$,".oos_m0"))},getHRef:function(){return E._t(this.$).href},setHRef:function(Q){E._t(this.$).href=Q},isChecked:function(){return M(this.$,"oos_m4")},setChecked:function(Q){E._q(this.$,"oos_m4",Q)},fire:function($,R,Q){Q.menuItem=this;if(R=="click"&&this.isEnabled()){x._M._ac()}else{E._n(Q)}$(R,Q)}});w.Menu=x._h=C(x._C,{init:function($,S,T){if(!S){S=r("ul","oos_m0")}$(S);var Q=D(".oos_mi",S),R=0;for(;Q[R];R++){x._g(Q[R])}},showXY:function($,Q,R){x._M._ad(this.$,Q,R)},showForElement:function(Q){x._M._X(this.$,Q)},showForEvent:function(Q){this.showXY(Q.clientX,Q.clientY)},addItem:function(U,Q,S){var R=r("li","oos_m1",this.$),T=r("a",l,R);r("i",l,T);o(T,U);if(Q){if(typeof Q=="function"){R.onclick=Q}else{T.href=Q}}if(S){R.className+=" "+S}return new x._i(R)},addSeparator:function(Q){o(r("li","oos_m5",this.$),Q||" ")},fire:function($,R,Q){var S=Q.target,T;if(R=="click"){T=P(Q.target,".oos_m1");if(T){T=T.$oos;if(T.isEnabled()){x._M._ac();Q.menuItem=T}else{E._n(Q)}}}$(R,Q)}});x._ah=function(){function S(){function aa(){x._ai.close()}var Y=K("link[rel=search]"),ae=K("#skin_main_header_content");for(var ac=0;ac<ae.childNodes.length;ac++){ae.childNodes[ac].style.display="none"}var X=r("form",{id:"oos_searchToolbar",className:"oos_toolbar",action:Y.href,onsubmit:function(){ab.value=ab.value.trim();if(!ab.value){return e}}},ae),Z=r("tr",l,r("tbody",l,r("table",l,X))),ad=r("a","oos_i_back",r("td",l,Z)),ab=O("search",{name:"q",required:j,placeholder:(Y&&Y.title)||G.toolbar.searchPhrase},r("td","oos_searchToolbar_td",Z)),W=r("a","oos_i_search",r("td",l,Z));ad.title=G.toolbar.searchClose;r("i",l,ad);ad.onclick=aa;W.title=G.toolbar.search;r("i",l,W);W.onclick=function(){ab.value=ab.value.trim();if(ab.value){X.submit()}else{if(X.reportValidity){X.reportValidity()}}};x._ai.open({belowToolbar:j,hash:"#oos_search",onclose:function(){E.remove(X);for(var af=0;af<ae.childNodes.length;af++){ae.childNodes[af].style.display="block"}}});ab.focus()}function T(Y){var W=w.localStorage.sys;var X=parseInt(W.getString("font"));if(isNaN(X)){X=w.touchable?15:14}X=Math.max(Math.min(X+Y,21),12);W.setString("font",X);n.body.parentNode.style.fontSize=""+X+"px"}function U(W,aa,Z,Y){var X=r("a","oos_i_"+aa,W);r("i","oos_hdr_btnIcon",X);X.title=Z;k(X,"click",Y);return X}function Q(ac,W,Z,Y,aa){var X=w.query(Y);if(X.length){var ab=U(ac,W,Z,aa)}}function R(W){return n.getElementById("oos_hdr_"+W)}function V(X,W){w.getControl(X).showForElement(W.currentTarget)}return{_aj:function(){var X=w.queryOne("#oos_headerMenu"),Y=G.toolbar;if(X){var aa=w.queryOne(".oos_i_menu",X);if(aa){var Z=K("#skin_aside");if(!Z){aa.style.display="none"}aa.onclick=function(){x._ai.open({hash:"#oos_menu",onclose:function(){Z.className=""}});Z.className="opened";Z.scrollTop=0;return e}}X=w.queryOne("#oos_headerActions");Q(X,"search",Y.search,"link[rel=search]",S)}X=w.queryOne("#skin_aside_header .oos_toolbar");if(X){if(u){U(X,"user",Y.userTools+" ("+u+")",function(ab){V("oos_hdrUserMenu",ab)});if(w.queryOne("#oos_hdrAdminMenu")){U(X,"settings",Y.websiteSettings,function(ab){V("oos_hdrAdminMenu",ab)})}}else{var W=U(X,"login",Y.signIn,function(ab){V("oos_hdrSignInMenu",ab)});o(r("span",l,W),Y.signIn)}if(w.localStorage){U(X,"fontMinus",Y.decreaseFont,function(){T(-1)});U(X,"fontPlus",Y.increaseFont,function(){T(1)})}Q(X,"rss","RSS","link[type='application/rss+xml']",function(ab){var ae=w.query("link[type='application/rss+xml']");if(ae.length==1){location=ae[0].href}else{var ac=new w.Menu("rssMenu");for(var ad=0;ad<ae.length;ad++){ac.addItem(ae[ad].title,ae[ad].href)}ac.showForEvent(ab)}});Q(X,"help","Help","link[rel=help]",function(){var ab=w.query("link[rel=help]");if(ab.length==1){location=ab[0].href}else{}})}}}}();x._m=C(x._C,{init:function($,R){$(R);var Q=K(".oos_summary",R);if(Q){Q._ak=Q.innerText;Q.onclick=function(){var S=M(R,"oos_details_open"),U=Q.getAttribute("data-openedtitle");if(U){Q.innerText=S?Q._ak:U}E._q(R,"oos_details_open",!S);var T=K(".oos_details_body",R);E.expandCollapse(T,S)}}}});x._al=w.Dialog=C(x._C,function(){return{init:function($,S,T){T=T||{};var Q="oos_dialog",R=q(Q);this._am=q(Q+"Header",R);this._an=q(Q+"Content",R);this._ao=q(Q+"ButtonPanel",R);$(R);this.setContent(S);R.style.maxWidth=T.maxWidth||"700px"},setTitle:function(Q){h(this._am,Q||i)},setContent:function(Q){A(this._an);if(Q){Q=H(Q);if(Q.parentNode){Q._ap=r("i",l);Q.parentNode.replaceChild(Q._ap,Q)}this._an.appendChild(Q);if(Q.title){Q._aq=Q.title;Q.title=i}if(Q._aq){this.setTitle(Q._aq)}}},_ab:function(){this._an.style.maxHeight=(d.clientHeight-32-2-18-this._am.offsetHeight-this._ao.offsetHeight)+"px";this.updateContentHeight()},updateContentHeight:function(){if(this._an.scrollHeight==this._an.clientHeight){w.dom._p(this._an,"oos_dialogContentScrollable")}else{w.dom._o(this._an,"oos_dialogContentScrollable")}},show:function(){d.style.overflowY="hidden";this._ar=r("table",{className:"oos_dialogLayer"},n.body);var Q=r("td","oos_dialogLayer2",r("tr",l,r("tbody",l,this._ar)));Q.appendChild(this.$);this._ab();x._M._af(this)},hide:function($){$();var Q=this._an.children[0];if(Q&&Q._ap){Q._ap.parentNode.replaceChild(Q,Q._ap)}E.remove(this._ar);d.style.overflowY="scroll";x._M._ag(this)},remove:function($){this.hide();$()},addButton:function(Q,S){var R=F("button",l,this._ao);o(R,Q);if(S){k(R,"click",S)}return R}}}());x._al.alert=function(Q,R,S){x._U.alert(l,Q,R)};x._al.info=function(Q,R,S){x._U.info(l,Q,R)};x._al.confirm=function(Q,R,S){x._U.confirm(l,Q,R)};x._al.confirmDelete=function(Q,R,S){x._U.confirmDelete(l,Q,R)};x._al.prompt=function(Q,R,S){S=S||{};x._U.prompt(l,Q,S.value,R,l,S)};x._al.errorAjax=function(R,Q){x._U.errorAjax(R,Q)};x._al.saveFormCancel=function(T,S,R){var U=new x._al(T,R),V=w.queryOne("form",U._an),Q;if(V){Q=V.$oos;if(!Q){Q=new w.AjaxForm(V)}if(R.loadFormUrl){Q.load(R.loadFormUrl)}}U.addButton(G.button.submit,function(){if(Q){Q.submit(function(){U.hide();S()})}});U.addButton(G.button.cancel,function(){U.hide()});U.show();return U};w.IFrameDialog=C(x._al,function(){return{init:function($,Q,S){var R=this,T=q(),U=q({style:{textAlign:"center",paddingTop:"3em",paddingBottom:"3em"}},T),V=r("iframe",{src:Q,scrolling:"no",style:{width:"100%",height:0}},T);U.innerText=G.sys.pleaseWait;V.id=V.name=w.Sys.id("oos_iframe_");$(T,S);V.onload=function(){E.remove(U)}}}}());w.ifContent={init:function(){var Q=n.body.style,R=this;Q.height="auto";Q.minHeight=0;Q.backgroundColor="#f0f0f0";this.setTitle(n.title);this.adjustHeight();E.addListener(n,"keydown",function(S){if(27==S.keyCode){R._as("esc_pressed")}});E.addListener(B,"resize",function(){R.adjustHeight()})},getHeight:function(){return n.body.clientHeight},adjustHeight:function(Q){this._as("set_height",Q||this.getHeight())},setTitle:function(Q){this._as("set_title",Q)},_as:function(S,T){var R=B.parent.document.getElementById(B.name),Q=E.getParent(R,".oos_dialog");if(S=="set_height"){R.style.height=T+"px"}else{if(S=="set_title"){w.queryOne(".oos_dialogTitle",Q).innerText=T||i}else{if(S=="esc_pressed"){Q.$oos.hide()}}}}};x._U=w.MsgBox=function(){var U="oos_dialog_std";function W(Z,aa,ab){return Q(Z||G.msgBox.info,aa,[{text:G.button.ok,cb:ab}])}function T(Z,aa,ab){return W(Z||G.msgBox.alert,aa,ab)}function Y(Z,aa,ab){return W(Z||G.msgBox.error,aa,ab)}function X(aa,Z){Y(G.msgBox.errorAjax,(Z||i)+aa.statusText)}function S(aa,ab,ac,Z){return Q(aa||G.msgBox.confirm,ab,[{text:G.button.yes,cb:ac},{text:G.button.no,cb:Z}])}function V(aa,ab,ac,Z){return Q(aa||G.msgBox.confirmDelete,ab,[{text:G.button.dlt,cb:ac},{text:G.button.cancel,cb:Z}])}function R(ae,af,ad,ab,ag,ac){var Z=q();o(Z,af);r("br",l,Z);var aa=O("text",{value:ad||i,style:{width:"100%",marginTop:"16px"}},Z);k(aa,"keypress",function(ah){if(13==ah.keyCode){var ah={value:aa.value};ab(ah)}});Q(ae,Z,[{text:G.button.ok,cb:function(){var ah={value:aa.value};ab(ah)}},{text:G.button.cancel,cb:ag}]);aa.focus();aa.select();aa.placeholder=ac.placeholder||i}function Q(ae,ad,ac){var ag=q(U+"Content");if(ae){ag.title=ae}var aa=new x._al(ag,{maxWidth:"500px"});if(ad){if(!Array.isArray(ad)){ad=[ad]}for(var af=0,ab;ab=ad[af];af++){if(ab.nodeType==1){ag.appendChild(ab)}else{v(ab.split(/\n/),function(ah){if(ah){o(r("p",l,ag),ah)}})}}}if(ac){v(ac,function(ah){aa.addButton(ah.text,Z).cb=ah.cb})}function Z(ai){aa.hide();var ah=ai.target;if(ah&&ah.cb){ah.cb()}}aa.show();return aa}return{alert:T,confirm:S,confirmDelete:V,errorAjax:X,info:W,prompt:R,show:Q}}();x._at=function(){var Q,T;function R(U){while(U){if((U.tagName=="BUTTON"&&!U.disabled)||(U.tagName=="A"&&(M(U,"oos_a")||M(U,"oos_bc1")||M(U.parentNode,"oos_toolbar")||M(U.parentNode,"oos_pager")))||(U.tagName=="INPUT"&&!U.disabled&&U.type.match(/^button|submit|reset$/))||(U.tagName=="LI"&&(M(U,"oos_listItem")||M(U,"oos_m1")))){break}U=U.parentNode}return U}function S(U){var V=R(U.target);if(V&&!U.button){var Y=V.getBoundingClientRect(),W=Math.max(V.offsetWidth,V.offsetHeight),X=V.tagName=="INPUT"?V.parentNode:V;if(!Q){Q=q("oos_rippleContainer");T=q("oos_ripple",Q)}X.appendChild(Q);Q.style.top=Y.top+"px";Q.style.left=Y.left+"px";Q.style.width=V.offsetWidth+"px";Q.style.height=V.offsetHeight+"px";Q.style.borderRadius=getComputedStyle(V,l).getPropertyValue("border-top-right-radius");setTimeout(function(){E.remove(Q)},500);E.removeClass(T,"oos_splash");T.style.height=T.style.width=W+"px";T.style.left=U.clientX-Y.left-W/2+"px";T.style.top=U.clientY-Y.top-W/2+"px";E.addClass(T,"oos_splash")}}return{_aj:function(){var U=n.body.style;if(U.transition||U.WebkitTransition){k(n,"click",S)}}}}();w.FileUploader=C(l,{init:function(R){var Q=this;g(w.getResourceDomain()+"libs/plupload/2.1.1/plupload.full.min.js",function(){var S=Q.uploader=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",chunk_size:"204800",url:"/~sys~/contlet/upload.ashx/",headers:{oostoken:s},unique_names:j,container:R.container,drop_element:R.drop_element,browse_button:R.browse_button,multi_selection:R.multi_selection,max_file_size:R.max_file_size,resize:R.resize,filters:R.filters||{},flash_swf_url:"/~sys~/libs/plupload/2.1.1/Moxie.swf",silverlight_xap_url:"/~sys~/libs/plupload/2.1.1/Moxie.xap",init:{PostInit:function(){E.show(H("dropZone"));E.show(H("addFileContainer"));E.hide(n.getElementById("fileUploaderNoSupport"));var T=x._g("uploadFiles");T.hide();T.on("click",function(){S.start()})},FilesAdded:function(Z,W){var V=H("newFiles"),U=x._g("uploadFiles");U.show();for(var X=0,Y;Y=W[X];X++){var T=r("li","oos_listItem",V);o(T,Y.name);o(T," - ");o(T,plupload.formatSize(Y.size))}},BeforeUpload:function(){w.blockUI({})},UploadProgress:function(T,U){n.getElementById(U.id).getElementsByTagName("b")[0].innerHTML="<span>"+U.percent+"%</span>"},UploadComplete:function(){w.unblockUI()},Error:function(T,U){n.getElementById("console").innerHTML+="\nError #"+U.code+": "+U.message}}});E.hide(H("dropZone"));E.show(H("addFileContainer"));S.init()})},createUI:function(){}});x._au=function(){function R(V){if(V>1073741824){return Math.round(V/1073741824,1)+" GB"}if(V>1048576){return Math.round(V/1048576,1)+" MB"}if(V>1024){return Math.round(V/1024)+" KB"}return""+V+" B"}function T(Y){var X=Y.mime,W;if(X){if(0<=["application/msword","application/pdf","application/zip","image/gif","image/png","image/jpeg","text/html","text/rtf"].indexOf(X)){W=X}else{var ab=X.indexOf("/");if(ab>0){var Z=X.substr(0,ab);if(/audio|image|text|video/.test(Z)){W=Z+"/-generic"}}}}else{var V,aa=Y.name.indexOf(".");if(aa>0){var ac=Y.name.substr(aa+1).toLowerCase();if(/gif|png|jpeg|jpg|bmp|ico|svg|tif|tiff/.test(ac)){W="image/-generic"}else{if(/doc|docx|docxml|log|pdf|rtf|txt|wpd/.test(ac)){W="text/-generic"}else{if(/mid|mp3|ra|rm|wav|wma/.test(ac)){W="audio/-generic"}else{if(/avi|mov|mpg|mp4|wmv/.test(ac)){W="video/-generic"}else{W={zip:"application/zip",html:"text/html"}[ac]}}}}}}if(!W){W="unknown"}return w.getResourceDomain()+"images/mime/32/"+W+".png"}function S(aa,ab){var X=r("table",{id:aa.id,className:"oos_filePreview"}),V=r("tbody",l,X),Y=r("tr",l,V),W=r("td",{rowSpan:2},Y),ae=r("td",{className:"oos_fileName"},Y),ad=r("td",{rowSpan:2},Y),ac=r("td",{className:"oos_fileStatus"},r("tr",l,V)),Z;o(ae,aa.name);o(ac,"Size: "+R(aa.size));if(aa.width){o(ac," | "+aa.width+"x"+aa.height)}if(ab){X.className+=" oos_fileNew";o(ac," | ");r("span","oos_fileUploadStatus",ac).innerText="0%"}r("div",{className:"oos_fileDelete"},ad);r("img",{src:T(aa)},W);return X}function Q(Y,W,V){var X=new plupload.Uploader({runtimes:"html5,flash,silverlight",chunk_size:"204800",url:"/~sys~/contlet/upload.ashx/"+W,headers:{oostoken:s},unique_names:j,container:Y,drop_element:Y+"_av",browse_button:Y+"_aw",multi_selection:V.multi_selection,max_file_size:V.max_file_size,resize:V.resize,filters:V.filters,flash_swf_url:"/~sys~/libs/plupload/2.1.1/Moxie.swf",silverlight_xap_url:"/~sys~/libs/plupload/2.1.1/Moxie.xap"});X.init();X.bind("FilesAdded",function(ac,ab){var aa=x._g(Y+"_av");for(var ad=0,Z;Z=ab[ad];ad++){aa.addItem(S(Z,j))}ac.refresh();setTimeout(function(){ac.start()},1000)});X.bind("UploadProgress",function(Z,aa){K("#"+aa.id+" .oos_fileUploadStatus").innerText="Uploaded: "+aa.percent+"%"});X.bind("FileUploaded",function(ab,Z,ad){var aa=K("#"+Z.id);ad=ad.response;if(ad){var ac=JSON.parse(ad);if(ac.__errorMessage){ab.trigger("Error",{message:ac.__errorMessage,code:1,file:Z});return e}else{aa.parentNode.$oos._ax=ac;aa.parentNode.replaceChild(S(ac),aa)}}});X.bind("Error",function(ab,Z){if(Z.file){var aa=K("#"+Z.file.id+" .oos_fileUploadStatus");aa.innerText=Z.message+" ("+Z.code+")";aa.style.color="red"}else{alert(Z.message)}ab.refresh()});return X}function U(X,W){var V=x._g(X+"_av");V.deleteAllItems();x._B.getJson("site://~sys~/sys.svc/GetAttachments",{token:W},function(Y){var Z=Y.json,aa=0;for(;aa<Z.length;aa++){V.addItem(S(Z[aa]))._ax=Z[aa]}},l,{blockUI:{}})}return{open:function(Y,aa,ac){var W=w.Sys.id()+"_ax",Z=new w.List(),X=q({id:W,title:"File Browser"}),ab=new x._al(X),ad=new x._Y(),V;Z.$.id=W+"_av";Z.$.className+=" oos_fileList";Z.$.style.maxHeight="400px";Z.$.style.minHeight="250px";ad.$.id=W+"_aw";ad.$.style.height="30px";X.appendChild(ad.$);X.appendChild(Z.$);ab.addButton("OK",function(){var ae=Z.getSelectedItem();if(ae&&ae._ax.url){ac({url:ae._ax.url});ab.remove()}});ab.addButton("Cancel",function(){ab.remove()});ab.show();Z.on("click",function(ae){if(M(ae.target,"oos_fileDelete")){var af=ae.item._ax;x._al.confirmDelete("Do you want to delete file?",function(){V.removeFile(af);x._B.postJson("site://~sys~/sys.svc/DeleteAttachment",{token:Y,fileID:af.id},function(){Z.deleteItem(ae.item)},l,{blockUI:{}})})}});Z.on("dblclick",function(ae){if(ae.item._ax.url){ac({url:ae.item._ax.url});ab.remove()}});g(w.getResourceDomain()+"libs/plupload/2.1.1/plupload.full.min.js",function(){V=Q(W,Y,aa);U(W,Y)})}}}();x._ay=C(x._C,{init:function($,T,V,X,R){$(T);var S=this.$,Q="4.3.1/ckeditor.js",W={contentsCss:K("#oos_css").href,customConfig:i,extraPlugins:i,disableNativeSpellChecker:e};if(V){W.removePlugins="tabletools,contextmenu";W.toolbar=[["Source","-","Maximize"],["Undo","Redo"],["Bold","Italic","Underline","TextColor","-","RemoveFormat"],["NumberedList","BulletedList","-","Blockquote"],["Link","Unlink","Image"]]}else{W.removePlugins="bbcode";W.allowedContent=j;W.toolbarGroups=[{name:"document",groups:["mode","document","doctools","tools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"links"},{name:"insert"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align"]},{name:"styles"},{name:"colors"}]}if(!S.id){S.id=w.Sys.id()}if(!B.CKEDITOR){g(w.getResourceDomain()+"libs/ckeditor/"+Q,function(){S._V=U(S,W,R)})}else{S._V=U(S,W,R)}S.parentNode.style.paddingRight=0;function U(Y,aa,Z){w.addCKEPlugin=function(ac,ab,ad){if(!CKEDITOR.plugins.get(ac)){ad.requires=ab;if(ad.icons){ad.icons=ac}aa.extraPlugins+=(aa.extraPlugins?",":"")+ac;CKEDITOR.plugins.add(ac,ad)}};if(Z){w.addCKEPlugin("octo_explorer",l,{init:function(ab){B.CKEDITOR.on("dialogDefinition",function(af){function ac(ah,ai,am,al){var ak,aj;for(ak in al){aj=al[ak];if(/hbox|vbox|fieldset/.test(aj.type)){ac(ah,ai,am,aj.children)}if(aj.filebrowser){if(typeof aj.filebrowser=="string"){aj.filebrowser={action:(aj.type=="fileButton")?"QuickUpload":"Browse",target:aj.filebrowser}}if(aj.filebrowser.action=="Browse"){aj.hidden=e;aj.onClick=function(){var an=this.getDialog();x._au.open(X,Z,function(ao){var ap=aj.filebrowser.target.split(":"),aq=an.getContentElement(ap[0],ap[1]);if(aq){aq.setValue(ao.url)}})}}}}}var ad=af.data.definition,ae,ag;for(ae in ad.contents){ac(af.editor,af.data.name,ad,ad.contents[ae].elements)}})}})}return B.CKEDITOR.replace(Y,aa)}}});function m(U,ai,ae,Q,T,ak,ad,X,aj,Y){function af(an){if(ae){for(var ao=0,am;am=ae.childNodes[ao];ao++){if(am.tagName=="DIV"&&an==(E._s(am,"z")||"below-body")){ai.$.appendChild(am.cloneNode(j))}}}}var R,W,ah,aa=G.contlet,V=j;if(ae){R=K("input[name=author]",ae);W=K("textarea[name=body]",ae);ah=K("button[type=submit]",ae)||K("input[type=submit]",ae)}af("header");if(aj&&!R){R=O("text",{name:"author"});ai.addRow(X?aa.author:aa.yourName,{required:j,description:(X||!V)?"":aa.yourNameDesc},R)}if(R){z(R,{required:"required",maxLength:40,autocomplete:"on"});if(ak){var S=R.parentNode,ag=K(".oos_f5",S),al=r("span",{style:{padding:"4px 1em 4px 0",fontWeight:"bold"}},S,R);E.hide(R);R.disabled=j;o(al,ak);if(V){var ac=r("label",{className:"oos_ce_anonym"},S,ag),Z=O("checkbox",{name:"anonymous"},ac);o(ac,aa.postAnonymously);Z.onclick=function(){R.disabled=!Z.checked;if(Z.checked){S.insertBefore(ac,R);E.hide(al);E.show(R);R.focus()}else{S.insertBefore(ac,ag);E.show(al);E.hide(R)}}}}}af("above-body");if(!W){W=r("textarea",{name:"body"});ai.addRow(X?"":aa.body,{required:!X,vertical:j,descriptionAtTop:j},W)}af("below-body");if(!ah){ah=F("submit",{});o(ah,G.button.submit);var ab=F("reset",{});o(ab,G.button.cancel);ai.addRow(l,l,X?[ah,ab]:ah)}af("footer");U.on("beforesubmit",function(am){am.formData.token=T;var an=W.value.trim();if(!an){if(W.required){x._M._N(G.form.valueMissing,W.parentNode);am.cancelEvent=j}}else{if(0<W.maxLength&&an.length>W.maxLength){x._M._N(G.form.tooLong.replace("{0}",W.maxLength),W.parentNode);am.cancelEvent=j}}});if("html"==ad){z(W,{required:l});new x._ay(W,"bbcode"==ad,Q,Y)}else{z(W,{required:"required","data-oml-autogrow":j,style:{minHeight:"5em"}});x._E(W);if("bbcode"==ad){x._az(W)}}}x._az=function(R){var T;function Q(V){function X(ab,ac,ae){if(!ae){ae=": ["+ac+"]{text}[/"+ac+"]"}ae=ae.replace("]{text}[","]"+G.bbe.text+"[");var ad=r("a","oos_bbe_btn_"+ac,ab);ad.title=G.bbe["btn_"+ac]+": "+ae;r("i",l,ad);k(ad,"click",function(ag){var af=Z[ac];if(!af){R.focus();U("["+ac+"]","[/"+ac+"]",aa())}else{if(Array.isArray(af)){R.focus();U(af[0],af[1],aa())}else{af(ag)}}})}function aa(){if("selectionEnd" in R){return R.value.substr(R.selectionStart,R.selectionEnd-R.selectionStart)}else{if(R.createTextRange){R.focus();return R.createTextRange().text}}}function Y(ac,ab){R.focus();U(ac,ab,aa())}function U(af,ag,ae,ab){var ac=ag.length,ah,ad;af=R.value.substr(0,R.selectionStart)+af;ag+=R.value.substr(R.selectionEnd);R.value=af+ae+ag;ah=af.length;ad=ah+ae.length;if(ab){ah=ad=ad+ac}R.setSelectionRange(ah,ad)}var Z={b:l,i:l,u:l,s:l,sub:l,sup:l,url:function(){var ab=aa();x._al.prompt(G.bbe.url_url,function(ac){R.focus();var ad=ac.value.trim();if(ad){U("[url="+ad+"]","[/url]",ab)}})},img:function(){x._al.prompt(G.bbe.img_url,function(ab){R.focus();var ac=ab.value.trim();if(ac){U("[img]","[/img]",ac,j)}},{value:aa()})},embed:function(ab){var ae=r("form"),ad=new x._9(l,{frameless:j}),af=r("textarea",{name:"code",required:"required"}),ac=O("submit",{value:G.button.ok});ae.appendChild(ad.$);ae.style.padding="1em 0";x._J._O(ae);ad.addRow(G.bbe.embed_code,{vertical:j},af);ad.addRow(l,{},ac);O("reset",{value:G.button.cancel},ac.parentNode);af.value=aa();ae.onsubmit=function(){var ai=af.value,aj=/<iframe\s+(src|.*?\ssrc)=["']((https?:)?\/\/\w.*?)["'](\s|>).*<\/iframe>/i,ah=/^(https?:)?\/\/\w.*\/.+/i;if(!ah.test(ai)){var ag=aj.exec(af.value.replace(/\n/g," "));ai=ag&&ag[2]?ag[2]:l}x._M._ac();R.focus();if(ai){U("[embed]","[/embed]",ai.replace(/&amp;/g,"&"),j)}else{alert(G.bbe.embed_url_invalid)}return e};ae.onreset=function(){R.focus();x._M._ac()};x._M._X(ae,ab.target);af.focus()},quote:["[quote]\n","\n[/quote]"],list:["[list]\n[*] ","\n[/list]"],table:["[table]\n[tr][td]","[/td][/tr]\n[/table]"],align:["[align=center]\n","\n[/align]"],code:["[code]\n","\n[/code]"],offtopic:["[offtopic]\n","\n[/offtopic]"]};T=q("oos_toolbar",V);var W=q("oos_bbe_panel",T);X(W,"b");X(W,"i");X(W,"u");W=q("oos_bbe_panel",T);X(W,"url","[url=http://url]text[/url]");X(W,"img","[img]http://image_url[/img]");X(W,"embed","[embed]http://embed_url[/embed]");W=q("oos_bbe_panel",T);X(W,"quote","[quote=user_name]{text}[/quote]");X(W,"list","[list=d|s|1|a|A|i|I][*]{text}[/list]");X(W,"table","[table][tr][td]{text}[/td][/tr][/table]");X(W,"align","[align=center|left|right|justify]{text}[/align]");X(W,"code","[code=lang_id]{text}[/code]");X(W,"offtopic")}if("selectionEnd" in R){var S=q(l);R.parentNode.insertBefore(S,R);Q(S)}};x._l=C(x._C,{init:function($,R){$(R);R=this.$;var T=K(".oos_template",R),U=new x._9(),Q=r("form",{action:E._s(R,"url")||"site://~sys~/sys.svc/AddContlet"},R),S=E._s(R,"t");Q.appendChild(U.$);m(new x._S(Q),U,T,S,S,u,E._s(R,"format"),e,j,l)}});x._k=C(x._C,(function(){function Q(Y){return E._s(K(".oos_p5",Y.$),"st")}function R(Z,Y,ad,aa,ac,ab){if(!ab){ab={blockUI:{}}}ad.token=Q(Z);x._B.postJson("site://~sys~/sys.svc/"+Y,ad,aa,ac,ab)}function U(aa,Z,Y){R(aa,"Vote",{positive:Y},function(ad){var af=ad.json,ac=af.positive-af.negative,ab="oos_ph",ag=Z.parentNode.childNodes[1],ae=i;if(ac<0){ab+=" oos_pm"}if(ac>0){ab+=" oos_pl";ae="+"}ae+=ac;ag.className=ab;ag.innerHTML=ae},function(ab){x._M._N(ab.statusText,Z)},{})}function S(aa,Y){var Z=E._s(K(".oos_p5",aa.$),"f");return Z&&0<=Z.indexOf(Y)}function T(Y){if(!Y.closing){Y.closing=j;Y._aA=l;E.expandCollapse(Y,j,function(){E.remove(Y)})}}function X(Y){return Y._aB&&Y._aB.firstChild?Y._aB.firstChild._aA:l}function V(aa,ad,ac,Z,ab){if(!ab){ab={}}if(aa._aB){if(aa._aB.firstChild){T(aa._aB.firstChild)}}else{aa._aB=q("oos_p_spc",aa)}if(ac){var Y=q(),af=q("oos_p_sp oos_p_"+Z,Y),ae=r("div","oos_toolbar",af),ag=F("button","oos_p_sc oos_i_cancel",ae);r("i",l,ag);Y._aA=Z;Y.style.maxHeight=0;ag.onclick=function(){T(Y)};o(q("oos_p_st",af),ad);af.appendChild(ac);aa._aB.insertBefore(Y,aa._aB.firstChild);E.expandCollapse(Y,e,function(){E.scrollIntoViewIfNeeded(Y);if(ab.focus){ab.focus.focus()}});return Y}}function W(ab,Y,Z){var aa=w.queryOne("."+Y,ab);if(aa){aa.onclick=function(){var ac=K("link[rel=canonical]");if(ac){ac=ac.getAttribute("href");if(-1==(ac+"/").indexOf("//"+location.host+"/")){location=ac}}Z()}}return aa}return{init:function($,aa){$(aa);aa=this.$;var Y=this,Z=W(aa,"oos_i_thumbUp",function(){U(Y,Z,j)}),ab=W(aa,"oos_i_thumbDown",function(){U(Y,ab,e)}),ac=W(aa,"oos_i_menu",function(){var ad=new x._h(),ae=G.contlet;if(S(Y,"a")){ad.addItem(ae.approve,function(){R(Y,"ApproveContlet",{})},"oos_i_thumbUp")}if(S(Y,"e")){ad.addItem(ae.edit,function(){Y.open()},"oos_i_edit")}if(S(Y,"d")){ad.addItem(G.button.dlt,function(){var af={contlet:Y,confirmMsg:G.contlet.deleteMsg};Y.fire("beforedelete",af);if(!af.cancelEvent){if(S(Y,"D")){Y.fire("delete",af)}else{var ag=[af.confirmMsg],ai;if(!af.hideDeleteReplies&&S(Y,"r")){var ah=ag[1]=r("label");ai=O("checkbox",{checked:j},ah);o(ah,G.contlet.deleteReplies)}x._al.confirmDelete(ag,function(){R(Y,"DeleteContlet",{keepReplies:ai&&!ai.checked},function(aj){if(af.redirectUrl){aj.json.__redirect=af.redirectUrl}})})}}},"oos_i_delete")}if(S(Y,"u")){ad.addItem(ae.open,function(){Y.open()},"oos_i_edit")}if(S(Y,"l")){ad.addItem(ae.related,function(){var af="related";if(af!=X(aa)){w.blockUI();var ag=r("iframe",{src:"/~sys~/contlet/related.aspx/"+Q(Y),scrolling:"no",style:{width:"100%",height:0}});V(aa,"",ag,af);ag.onload=function(){w.unblockUI();ag.style.height=ag.contentWindow.document.body.scrollHeight+"px";o(K(".oos_p_st",aa),ag.contentWindow.document.title)}}},"oos_i_link")}ad.showForElement(ac)});W(aa,"oos_p9",function(){var ad="reply";if(ad!=X(aa)){var ae=q();ae.setAttribute("data-oml-t",Q(Y));if(S(Y,"b")){ae.setAttribute("data-oml-format","bbcode")}new x._l(ae);V(aa,G.contlet.replyTitle,ae,ad,{focus:K(u?"textarea":"input",ae)})}});W(aa,"oos_pa",function(){var ai="report";if(ai!=X(aa)){var ak=r("form",{action:"site://~sys~/sys.svc/Report"}),af=new x._S(ak),ah=r("textarea",{name:"message",required:"required","data-oml-autogrow":j,style:{minHeight:"4em"}}),al=new x._9(l,{frameless:j});al.addRow(G.contlet.reportMsg,{vertical:j},ah);if(S(Y,"p")){var ad=r("label",{}),ae=O("checkbox",{name:"pma",value:"true"},ad);o(ad,"Make pending moderator approval");al.addRow(l,{description:"Please mark only posts that definitely violate TOS."},ad)}x._E(ah);var ag=F("submit",{});o(ag,G.button.submit);al.addRow(l,l,[ag,O("hidden",{name:"token",value:Q(Y)})]);ak.appendChild(al.$);var aj=V(aa,G.contlet.reportTitle,ak,ai,{focus:ah});af.on("success",function(){T(aj)})}});if(S(this,"o")){this.open()}},_aC:function(){return E._s(K(".oos_p5",this.$),"at")},open:function(){if(!S(this,"g")){return e}var ac=this,af=K(".oos_p5",this.$),al=P(af,".oos_px")||af,aj=E._s(al,"eg")||"site://~sys~/sys.svc/GetContlet",aa=E._s(al,"es")||"site://~sys~/sys.svc/SaveContlet",Y=Q(this),an=aj.startsWith("site://~sys~/")?Y:this._aC(),ab=aa.startsWith("site://~sys~/")?Y:this._aC(),ai=E._s(al,"et"),Z=E._s(al,"ef"),ae=E._s(al,"cf"),ag=Z?JSON.parse(Z):l,ao=new x._9(),ah=ao.$,ak=r("form",{action:aa,onreset:am}),ad=new x._S(ak);if(ai){ai=H(ai)}else{ai=K(".oos_template",af)}E._o(ah,"oos_contletEditor");ak.appendChild(ah);ad.on("setvalues",function(){ac.fire("loaded",{});var ap=w.queryOne("textarea",ak);if(ap&&!ap.readOnly&&ap.setSelectionRange){ap.focus();ap.setSelectionRange(0,0)}E.scrollIntoViewIfNeeded(ak)});ad.load(aj,{token:an},function(at){var ap=!S(ac,"e");m(ad,ao,ai,Y,ab,l,(at.json.body_format||ae||"html").toLowerCase(),j,E._s(al,"ea"),ag);for(var aq=0,au=ac.$.children,ar;ar=au[aq];aq++){E.hide(ar)}ac.$.appendChild(ak);v(ak,function(ax){if(ap){if(ax.type=="submit"){ax.style.display="none"}else{if(ax.type=="reset"){ax.value=G.button.close;var aw=F("button",{},ax.parentNode);o(aw,G.contlet.restore);aw.onclick=function(){R(ac,"UndeleteContlet",{})}}else{if(ax.type=="textarea"||ax.type=="text"){ax.readOnly=j}else{ax.disabled=j}}}}else{var av=(ax.name||ax.id)+"_";ax.readOnly=at.json[av+"readonly"];ax.disabled=at.json[av+"disabled"]}})});ad.on("success",function(ap){var ar=ap.result.json.__redirect,aq=B.location.href;if(ar){B.location.href=w.getPageUrl(ar);if(B.location.href!=aq){B.location.reload()}}else{B.location.reload()}});function am(){E.remove(ak);for(var ap=0,ar=ac.$.children,aq;aq=ar[ap];ap++){E.show(aq)}v(ak,function(au){if(au._V){try{au._V.destroy(j)}catch(at){}au._V=l}})}return j}}})());x._ai=w.OverlayMan=function(){var W,U,S,Q,X,R;function V(){if(W){L(18.5211);d.style.overflowY="scroll";L(18.5213);if(n.body){L(18.5214)}n.body.removeChild(W);L(18.522);if(U){n.body.removeChild(U)}L(18.523);if(S){b(n,"keydown",S)}if(Q){b(B,"resize",Q)}if(X){b(B,"hashchange",X)}L(18.524);if(R.hash&&R.hash==location.hash){history.back()}W=U=S=Q=l;L(18.525);if(R.onclose){R.onclose()}L(18.526)}}function T(af,ad){d.style.overflowY="hidden";if(!ad){ad={}}R=ad;if(ad.hash){location.hash=ad.hash;X=function(){if(location.hash!=ad.hash){V()}};k(B,"hashchange",X)}W=q("oos_shadeLayer",n.body);if(ad.belowToolbar){W.style.zIndex=900}if(af||ad.waitMessage){U=r("table","oos_overlay",n.body);var ac=r("td","oos_overlay_td",r("tr",l,r("tbody",l,U))),ag=r("table","oos_overlay_box",ac),ab=r("tbody",l,ag),aa=r("tr",l,ab),Y=r("td","oos_overlay_title",aa),ai=r("td","oos_overlay_content",r("tr",l,ab));F("button",{innerHTML:"&#215;",onclick:V},r("td","oos_overlay_close",aa));ai.colSpan=2;ai.appendChild(af);Q=function(){af.style.maxWidth=d.clientWidth+"px";af.style.maxHeight=(d.clientHeight-aa.clientHeight)+"px";ag.style.maxWidth=af.clientWidth+"px"};k(B,"resize",Q);if(ad.waitMessage){var ah=new q("oos_spinner",ai),ae=q("oos_spinner_bars",ah);for(var Z=1;Z<=8;Z++){r("b","oos_bar"+Z,ae)}o(q(l,ah),ad.waitMessage);if(af){if(af.clientHeight>ah.clientHeight){p(ah,{"float":"left",position:"relative",width:"100%",marginTop:-(af.clientHeight+ah.clientHeight)/2+"px"})}}}}if(!ad.modal){S=function(aj){if(27==aj.keyCode){V()}};k(n,"keydown",S);k(W,"click",function(ak){ak=ak||B.event;var aj=ak.target||ak.srcElement;if(aj==W){V()}})}return{_aD:function(aj){ai.removeChild(ah);if(aj){ai.removeChild(af);af=r("div",{style:{margin:"1em"}},ai);o(af,aj)}else{o(Y,ad.title)}updateSize()}}}return{open:function(Y){T(l,Y)},close:V,openImage:function(Z,aa){aa.hash="#oos_overlay";var Y=r("img"),ab=T(Y,aa);Y.onload=function(){ab._aD()};Y.onerror=function(){ab._aD(G.contlet.bbc_img_load_error)};Y.src=Z},openIFrame:function(Z,aa){aa.hash="#oos_overlay";var Y=r("iframe",{src:Z,width:"1000px",height:"563px",frameBorder:"0"}),ab=T(Y,aa);Y.setAttribute("allowfullscreen",i);Y.onload=function(){ab._aD()}}}}();x._aE={_aF:function(){function Q(W,X){var Y,Z=E._s(W,"img");if(Z){if(Z.startsWith("fl:")){Y=w.getResourceDomain()+"/images/flags/24/"+Z.substr(3)}else{if(X){return}Y="//twemoji.maxcdn.com/36x36/"+Z}var V=r("span");o(V,W.innerText||W.textContent);W.replaceChild(V,W.firstChild);r("img",{src:Y+".png",draggable:e},W)}}function T(){var W=r("canvas");L(20.11);if(W.getContext){var X=W.getContext("2d");if(X&&typeof X.fillText=="function"){try{X.textBaseline="top";X.font="32px Arial";X.fillText("\ud83d\ude03",0,0);return X.getImageData(16,16,1,1).data[0]!==0}catch(V){}}}}function R(){var V=navigator.userAgent;if(V){V=V.toLowerCase();var W=-1!=V.indexOf("windows nt 6.3")||-1!=V.indexOf("windows nt 1");if(W){return -1!=V.indexOf("firefox")||-1!=V.indexOf("trident")||-1!=V.indexOf("edge")}if(-1!=V.indexOf("windows phone 8.")||-1!=V.indexOf("windows phone 1")){return j}}}L(20.1);if(!T()){L(20.17);var U=D("i.oos_emoji");if(U){L(20.2);var R=R();L(20.3);for(var S=0;S<U.length;S++){Q(U[S],R)}L(20.4)}}}};function a(){var Q,X,S,V,U,T,R;function Z(ac){var ak=!!Q.offsetWidth,aj=ak,ad,ab;function aa(am){var ap=X.getBoundingClientRect(),al=n.documentElement.clientHeight,an=16,ao=16;var aq=ap.top+am.offsetHeight<al-ao;if(aq){am.style.width=am.parentNode.clientWidth-(am.offsetWidth-am.clientWidth)+"px";if(am.offsetHeight<al-ao-an){am.style.top=an+"px";am.style.bottom=""}else{am.style.top="";am.style.bottom=ao+"px"}am.style.position="fixed"}return aq}L(ac+0.4);if(!ak){L(ac+0.51);if(U.className=="opened"){U.className="";L(ac+0.52);x._ai.close()}L(ac+0.53);X.style.minHeight=Math.max(X.offsetHeight,T.offsetHeight)+"px";var ai=X.getBoundingClientRect(),ag=n.documentElement.clientHeight,ah=16;L((ac+0.541)+(V?"":"_aG"));ad=aa(V);L((ac+0.542)+(T?"":"_aG"));ab=aa(T);L(ac+0.55);aj=V.getBoundingClientRect().top<0;if(!aj){L(ac+0.56);V.style.paddingTop=0;S.className=""}else{}}L(ac+0.61);if(aj){S.className="fixed";V.style.paddingTop=S.offsetHeight+"px"}L(ac+0.62);if(!ad){V.style.position="static";V.style.top=V.style.bottom="";V.style.width="auto"}L(ac+0.63);if(!ab){T.style.position="relative";T.style.top=T.style.bottom="";T.style.width="auto"}L(ac+0.7);if(R._aH!=S.offsetHeight){L(ac+0.71);var af=S.offsetHeight+8,ae="a[name]:before,.oos_anchor:before,.oos_contlet:before{background:red;display:block;content:' ';margin-top:-"+af+"px;height:"+af+"px;visibility:none;width:0}";L(ac+0.72);if(R.styleSheet){R.styleSheet.cssText=ae}else{R.innerHTML=ae}L(ac+0.73);R._aH=S.offsetHeight}L(0)}function Y(aa){return n.getElementById("skin_"+aa)}var W=Y("page");if(W&&W.className=="oos_skin"){L(18.1);X=Y("main");S=Y("main_header");V=Y("main_content");U=Y("aside");T=Y("aside_content");if(!T){L(18.1111);w.logError("aside_content is NULL: "+n.readyState+" - "+n.querySelector("#aside_content"));return}L(18.11);R=w.prv.newElm("style",{type:"text/css"},J);Q=w.prv.newElm("span",{id:"skin_css"},n.body);w.prv.addListener(B,"resize",function(){Z(40)});w.prv.addListener(B,"scroll",function(){Z(41)});L(18.2);Z(42);L(18.3);B.setInterval(function(){if(V._aI!=V.offsetHeight){V._aI=V.offsetHeight;Z(43)}},500)}}w.init=function(Q){L(30.1);delete w.init;G=Q;L(30.2);var R=setInterval(function(){if(n.body&&/interactive|complete/.test(n.readyState)){clearInterval(R);I()}},20);L(0)};function I(){L(15.2);L(18);a();L(19);while(w.fs.length){try{(w.fs.shift())()}catch(Q){w.logError(""+Q.name+": "+Q.message,"",Q.number,"fireReady")}}delete w.fs;L(20);x._aE._aF();L(21);var S=[];v(D(".oos_init"),function(V){if(V.tagName=="CODE"){S.push(V)}else{if(M(V,"oos_bbc_img_collapsed")){var U=E._s(V,"url");if(U){k(V,"click",function(){if(u){var W=r("img",{src:U,title:V.title,onerror:function(){alert(G.contlet.bbc_img_load_error)}});V.parentElement.replaceChild(W,V)}else{alert(G.contlet.bbc_img_auth_only)}})}}else{if(M(V,"oos_overlay_frame")||M(V,"oos_overlay_img")){var U=E._s(V,"url")||V.href;if(U){k(V,"click",function(X){var W={title:V.title,waitMessage:G.sys.pleaseWait};if(M(V,"oos_overlay_frame")){W.modal=j;x._ai.openIFrame(U,W)}else{x._ai.openImage(U,W)}E._n(X)})}}else{x._g(V)}}}});L(22);x._at._aj();L(23);if(S.length){var T=w.getResourceDomain()+"libs/highlightjs/8.7/";w.loadCss(T+"styles/default.css");g(T+"highlight.pack.js",function(){for(var U=0;S[U];U++){hljs.highlightBlock(S[U])}})}L(24);L(24.1);x._ah._aj();L(24.2);v(n.forms,function(U){x._J._O(U)});L(24.3);v(D("textarea"),function(U){x._E(U)});L(24.4);var R=K(".oos_f6");if(R){E.scrollIntoViewIfNeeded(R.parentNode)}L(0)}})(document,this);oos.init({sys:{pleaseWait:"Please wait ..."},toolbar:{search:"Search",searchPhrase:"Search phrase",searchClose:"Close the search panel",signIn:"Sign in",userTools:"User tools",websiteSettings:"Website settings",increaseFont:"Increase font size",decreaseFont:"Decrease font size"},button:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",submit:"Submit",close:"Close",save:"Save",dlt:"Delete"},msgBox:{info:"Information",alert:"Alert",error:"Error",ajaxError:"Ajax Error",confirm:"Confirm",confirmDelete:"Confirm Deletion"},form:{valueMissing:"This field cannot be empty.",rangeUnderflow:"The value is too low. It cannot be lower than {0}.",rangeOverflow:"The value is too high. It cannot be higher than {0}.",stepMismatch:"The value has a step mismatch. Only certain values are allowed for this field.",tooLong:"The value is too long. The maximum length for this field is {0}.",patternMismatch:"The value does not match the expected format. {0}",invalidFormat:"The entered value has an invalid format.",requiredTitle:"This field is mandatory."},contlet:{open:"Open",edit:"Edit",approve:"Approve",related:"Related content",restore:"Restore",bbc_img_auth_only:"Only registered users can view this image.",bbc_img_load_error:"An error happened while loading the image (probably invalid URL).",author:"Author",yourName:"Your Name",yourNameDesc:"Your name as you would like it to appear in the title of your post.",title:"Title",body:"Message",postAnonymously:"Post anonymously",postAnonymouslyAs:"Post anonymously as",replyTitle:"Reply to post",deleteMsg:"Are you sure you want to delete this content?",deleteReplies:"Delete replies",reportTitle:"Report post to moderator",reportMsg:"Explain why you are reporting this post"},bbe:{text:"text",url_url:"Hyperlink URL",img_url:"Image URL",embed_code:"URL or HTML code for embedding external iFrame media",embed_url_invalid:"Cannot find URL in the specified code.",btn_b:"Bold",btn_i:"Italic",btn_u:"Underline",btn_align:"Align content",btn_list:"List",btn_table:"Table",btn_code:"Code",btn_quote:"Insert a quote",btn_url:"Insert a link",btn_img:"Insert an image",btn_embed:"Video, maps, and other embeds",btn_offtopic:"Off topic"},ajax:{requestFailure:"Could not create AJAX request.",processingError:"AjaxRequest still processing the previous request.",timeout:"AJAX request timeout.",aborted:"AJAX request aborted.",invalidXml:"Invalid XML format or HTTP response content type.",unknownError:"Unknown AJAX error."}})